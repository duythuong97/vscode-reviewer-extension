{
  "name": "ai-reviewer",
  "displayName": "AI Reviewer",
  "description": "AI review PR with my convention",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.101.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [],
  "main": "./out/core/extension.js",
  "contributes": {
    "configuration": {
      "title": "AI Reviewer",
      "properties": {
        "aiReviewer.authType": {
          "type": "string",
          "enum": [
            "token",
            "cookie"
          ],
          "default": "token",
          "description": "Authentication type for LLM services: 'token' for API token, 'cookie' for cookie-based auth",
          "scope": "application"
        },
        "aiReviewer.apiToken": {
          "type": "string",
          "default": "",
          "description": "API token for AI review service",
          "scope": "application"
        },
        "aiReviewer.cookie": {
          "type": "string",
          "default": "",
          "description": "Cookie for cookie-based authentication with LLM services",
          "scope": "application"
        },
        "aiReviewer.llmEndpoint": {
          "type": "string",
          "default": "http://localhost:11434/api/generate",
          "description": "LLM API endpoint URL",
          "scope": "application"
        },
        "aiReviewer.providerType": {
          "type": "string",
          "enum": [
            "ollama",
            "openai"
          ],
          "default": "ollama",
          "description": "Type of LLM provider to use",
          "scope": "application"
        },
        "aiReviewer.llmModel": {
          "type": "string",
          "default": "llama3",
          "description": "LLM model name to use for code review",
          "scope": "application"
        },
        "aiReviewer.maxTokens": {
          "type": "number",
          "default": 2000,
          "description": "Maximum number of tokens for LLM responses",
          "scope": "application"
        },
        "aiReviewer.temperature": {
          "type": "number",
          "default": 0.7,
          "minimum": 0,
          "maximum": 2,
          "description": "Temperature for LLM responses (0 = deterministic, 2 = very random)",
          "scope": "application"
        },
        "aiReviewer.codingConvention": {
          "type": "string",
          "default": "",
          "description": "Coding convention rules for AI review",
          "scope": "application"
        },
        "aiReviewer.baseBranch": {
          "type": "string",
          "default": "main",
          "description": "Base branch to compare against when reviewing PR changes (e.g., main, master, develop)",
          "scope": "application"
        },
        "aiReviewer.suggestionDisplayMode": {
          "type": "string",
          "enum": [
            "panel",
            "inline"
          ],
          "default": "panel",
          "description": "How to display convention suggestions: 'panel' for a separate webview panel, 'inline' for inline diagnostics in the editor",
          "scope": "application"
        },
        "aiReviewer.autoReview": {
          "type": "boolean",
          "default": false,
          "description": "Automatically review files when saved",
          "scope": "application"
        },
        "aiReviewer.severityThreshold": {
          "type": "string",
          "enum": [
            "low",
            "medium",
            "high"
          ],
          "default": "medium",
          "description": "Minimum severity level to show in reviews",
          "scope": "application"
        },
        "aiReviewer.includeSuggestions": {
          "type": "boolean",
          "default": true,
          "description": "Show code suggestions in reviews",
          "scope": "application"
        },
        "aiReviewer.showNotifications": {
          "type": "boolean",
          "default": true,
          "description": "Display notifications for review results",
          "scope": "application"
        },
        "aiReviewer.themeAware": {
          "type": "boolean",
          "default": true,
          "description": "Use VS Code theme colors for UI",
          "scope": "application"
        },
        "aiReviewer.ghostTextEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable AI-powered ghost text suggestions while typing",
          "scope": "application"
        },
        "aiReviewer.debugMode": {
          "type": "boolean",
          "default": false,
          "description": "Enable debug logging for AI Reviewer",
          "scope": "application"
        },
        "aiReviewer.customPrompt": {
          "type": "string",
          "default": "",
          "description": "Custom review prompt template",
          "scope": "application"
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ai-reviewer-sidebar",
          "title": "AI Reviewer",
          "icon": "$(comment-discussion)"
        }
      ]
    },
    "views": {
      "ai-reviewer-sidebar": [
        {
          "id": "aiReviewer.settingsPanel",
          "name": "Settings",
          "type": "webview"
        },
        {
          "id": "aiReviewer.chatPanel",
          "name": "Chat",
          "type": "webview"
        },
        {
          "id": "aiReviewer.reviewPanel",
          "name": "Review Panel",
          "type": "webview"
        },
        {
          "id": "aiReviewer.agentPanel",
          "name": "Agent Panel",
          "type": "webview"
        }
      ]
    },
    "commands": [
      {
        "command": "ai-reviewer.reviewFile",
        "title": "AI Reviewer: Review Current File"
      },
      {
        "command": "ai-reviewer.reviewPR",
        "title": "AI Reviewer: Review PR"
      },
      {
        "command": "ai-reviewer.showDebugOutput",
        "title": "AI Reviewer: Show Debug Output"
      },
      {
        "command": "ai-reviewer.showSettings",
        "title": "AI Reviewer: Show Settings"
      },
      {
        "command": "ai-reviewer.openSettingsPanel",
        "title": "Open Settings Panel",
        "icon": "$(gear)"
      },
      {
        "command": "ai-reviewer.acceptGhostSuggestion",
        "title": "Accept AI Ghost Suggestion"
      },
      {
        "command": "ai-reviewer.toggleGhostText",
        "title": "AI Reviewer: Toggle Ghost Text"
      },
      {
        "command": "ai-reviewer.testGhostText",
        "title": "AI Reviewer: Test Ghost Text"
      },
      {
        "command": "ai-reviewer.aiPromptPopup",
        "title": "AI Reviewer: AI Prompt Popup"
      },
      {
        "command": "ai-reviewer.viewReviewHistory",
        "title": "AI Reviewer: View Review History"
      },
      {
        "command": "ai-reviewer.refreshAnalytics",
        "title": "AI Reviewer: Refresh Analytics"
      },
      {
        "command": "ai-reviewer.useTemplate",
        "title": "AI Reviewer: Use Template"
      },
      {
        "command": "ai-reviewer.editTemplate",
        "title": "AI Reviewer: Edit Template"
      },
      {
        "command": "ai-reviewer.addTemplate",
        "title": "AI Reviewer: Add Template"
      },
      {
        "command": "ai-reviewer.showRightPanel",
        "title": "AI Reviewer: Show Right Panel"
      },
      {
        "command": "aiReviewer.chatPanel.focus",
        "title": "Focus AI Reviewer Chat Panel"
      },
      {
        "command": "ai-reviewer.viewChatHistory",
        "title": "AI Reviewer: View Chat History"
      },
      {
        "command": "ai-reviewer.clearChatHistory",
        "title": "AI Reviewer: Clear Chat History"
      },
      {
        "command": "ai-reviewer.newChatSession",
        "title": "AI Reviewer: New Chat Session"
      },
      {
        "command": "ai-reviewer.showLLMStatus",
        "title": "AI Reviewer: Show LLM Connection Status"
      },
      {
        "command": "ai-reviewer.clearSavedViolations",
        "title": "AI Reviewer: Clear Saved Review Violations"
      },
      {
        "command": "ai-reviewer.reReviewWithFeedback",
        "title": "AI Reviewer: Re-review with Feedback"
      },
      {
        "command": "ai-reviewer.debugChatHistory",
        "title": "AI Reviewer: Debug Chat History"
      },
      {
        "command": "ai-reviewer.debugApplyCode",
        "title": "AI Reviewer: Debug Apply Code"
      },
      {
        "command": "ai-reviewer.debugJsonExtraction",
        "title": "AI Reviewer: Debug JSON Extraction"
      },
      {
        "command": "ai-reviewer.createAgentWorkflow",
        "title": "AI Reviewer: Create Agent Workflow"
      },
      {
        "command": "ai-reviewer.executeCurrentStep",
        "title": "AI Reviewer: Execute Current Step"
      },
      {
        "command": "ai-reviewer.executeStep",
        "title": "AI Reviewer: Execute Step"
      },
      {
        "command": "ai-reviewer.nextStep",
        "title": "AI Reviewer: Next Step"
      },
      {
        "command": "ai-reviewer.executeFullWorkflow",
        "title": "AI Reviewer: Execute Full Workflow"
      },
      {
        "command": "ai-reviewer.clearWorkflow",
        "title": "AI Reviewer: Clear Workflow"
      },
      {
        "command": "ai-reviewer.generateUnitTests",
        "title": "AI Reviewer: Generate Unit Tests for Current File"
      },
      {
        "command": "ai-reviewer.generateUnitTestsForFile",
        "title": "AI Reviewer: Generate Unit Tests for Selected File"
      },
      {
        "command": "ai-reviewer.retryUnitTestGeneration",
        "title": "AI Reviewer: Retry Unit Test Generation"
      },
      {
        "command": "ai-reviewer.resetUnitTestAgent",
        "title": "AI Reviewer: Reset Unit Test Agent"
      },
      {
        "command": "ai-reviewer.openWorkspaceCommands",
        "title": "AI Reviewer: Open Workspace Commands"
      },
      {
        "command": "ai-reviewer.indexWorkspace",
        "title": "AI Reviewer: Index Workspace"
      },
      {
        "command": "ai-reviewer.refreshCurrentFile",
        "title": "AI Reviewer: Refresh Current File"
      },
      {
        "command": "ai-reviewer.showWorkspaceInfo",
        "title": "AI Reviewer: Show Workspace Info"
      },
      {
        "command": "ai-reviewer.saveIndex",
        "title": "AI Reviewer: Save Index"
      },
      {
        "command": "ai-reviewer.loadIndex",
        "title": "AI Reviewer: Load Index"
      },
      {
        "command": "ai-reviewer.clearIndex",
        "title": "AI Reviewer: Clear Index"
      },
      {
        "command": "ai-reviewer.searchInWorkspace",
        "title": "AI Reviewer: Search in Workspace"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "ai-reviewer.openSettingsPanel",
          "when": "view == aiReviewer.settingsPanel",
          "group": "navigation"
        }
      ],
      "editor/context": [
        {
          "command": "ai-reviewer.reviewFile",
          "when": "editorTextFocus",
          "group": "ai-reviewer@1"
        },
        {
          "command": "ai-reviewer.generateUnitTests",
          "when": "editorTextFocus && resourceExtname == .cs",
          "group": "ai-reviewer@2"
        },
        {
          "command": "ai-reviewer.reviewPR",
          "when": "resourceScheme == file",
          "group": "ai-reviewer@3"
        }
      ],
      "commandPalette": [
        {
          "command": "ai-reviewer.reviewFile",
          "when": "editorTextFocus"
        },
        {
          "command": "ai-reviewer.reviewPR"
        },
        {
          "command": "ai-reviewer.showDebugOutput"
        },
        {
          "command": "ai-reviewer.toggleGhostText"
        },
        {
          "command": "ai-reviewer.aiPromptPopup"
        },
        {
          "command": "ai-reviewer.viewChatHistory"
        },
        {
          "command": "ai-reviewer.clearChatHistory"
        },
        {
          "command": "ai-reviewer.newChatSession"
        },
        {
          "command": "ai-reviewer.showLLMStatus"
        },
        {
          "command": "ai-reviewer.openWorkspaceCommands"
        },
        {
          "command": "ai-reviewer.indexWorkspace"
        },
        {
          "command": "ai-reviewer.refreshCurrentFile"
        },
        {
          "command": "ai-reviewer.showWorkspaceInfo"
        },
        {
          "command": "ai-reviewer.saveIndex"
        },
        {
          "command": "ai-reviewer.loadIndex"
        },
        {
          "command": "ai-reviewer.clearIndex"
        },
        {
          "command": "ai-reviewer.searchInWorkspace"
        },
        {
          "command": "ai-reviewer.clearWorkflow"
        },
        {
          "command": "ai-reviewer.generateUnitTests",
          "when": "editorTextFocus && resourceExtname == .cs"
        },
        {
          "command": "ai-reviewer.generateUnitTestsForFile"
        },
        {
          "command": "ai-reviewer.retryUnitTestGeneration"
        },
        {
          "command": "ai-reviewer.resetUnitTestAgent"
        },
        {
          "command": "ai-reviewer.openWorkspaceCommands"
        }
      ]
    }
  },
  "keybindings": [
    {
      "command": "ai-reviewer.aiPromptPopup",
      "key": "cmd+shift+i",
      "when": "editorTextFocus"
    }
  ],
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./ && npm run copy-media",
    "copy-media": "cp -r media out/",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/handlebars-helpers": "^0.5.6",
    "@types/mocha": "^10.0.10",
    "@types/node": "20.x",
    "@types/vscode": "^1.101.0",
    "@typescript-eslint/eslint-plugin": "^8.31.1",
    "@typescript-eslint/parser": "^8.31.1",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.5.2",
    "eslint": "^9.25.1",
    "typescript": "^5.8.3"
  },
  "dependencies": {
    "@types/json5": "^0.0.30",
    "@types/marked": "^5.0.2",
    "@types/strip-json-comments": "^0.0.30",
    "@xstate/vue": "^5.0.0",
    "handlebars": "^4.7.8",
    "handlebars-helpers": "^0.10.0",
    "json5": "^2.2.3",
    "marked": "^15.0.12",
    "strip-json-comments": "^5.0.2",
    "xstate": "^5.20.0"
  }
}
